(this["webpackJsonpts-ast-viewer"]=this["webpackJsonpts-ast-viewer"]||[]).push([[2],{100:function(e,t){},11:function(e,t,n){"use strict";var r=n(40);n.o(r,"compilerVersionCollection")&&n.d(t,"compilerVersionCollection",(function(){return r.compilerVersionCollection})),n.o(r,"convertOptions")&&n.d(t,"convertOptions",(function(){return r.convertOptions})),n.o(r,"createSourceFile")&&n.d(t,"createSourceFile",(function(){return r.createSourceFile})),n.o(r,"getChildrenFunction")&&n.d(t,"getChildrenFunction",(function(){return r.getChildrenFunction})),n.o(r,"getCompilerApi")&&n.d(t,"getCompilerApi",(function(){return r.getCompilerApi})),n.o(r,"getDescendantAtRange")&&n.d(t,"getDescendantAtRange",(function(){return r.getDescendantAtRange})),n.o(r,"getPublicApiInfo")&&n.d(t,"getPublicApiInfo",(function(){return r.getPublicApiInfo})),n.o(r,"hasLoadedCompilerApi")&&n.d(t,"hasLoadedCompilerApi",(function(){return r.hasLoadedCompilerApi}));var i=n(19);n.d(t,"compilerVersionCollection",(function(){return i.a})),n.d(t,"getPublicApiInfo",(function(){return i.b}));var o=n(46);n.d(t,"convertOptions",(function(){return o.a}));var a=n(47);n.d(t,"createSourceFile",(function(){return a.a}));var c=n(24);n.d(t,"getChildrenFunction",(function(){return c.a}));var u=n(48);n.d(t,"getCompilerApi",(function(){return u.a})),n.d(t,"hasLoadedCompilerApi",(function(){return u.b}));var l=n(49);n.d(t,"getDescendantAtRange",(function(){return l.a}))},12:function(e,t,n){"use strict";var r,i;n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),function(e){e[e.getChildrenWithComments=0]="getChildrenWithComments"}(r||(r={})),function(e){e[e.Loading=0]="Loading",e[e.Loaded=1]="Loaded",e[e.Error=2]="Error"}(i||(i={}))},124:function(e,t,n){},125:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){},128:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"SET_CODE",(function(){return T})),n.d(r,"SET_API_LOADING_STATE",(function(){return F})),n.d(r,"REFRESH_SOURCEFILE",(function(){return P})),n.d(r,"SET_SELECTED_NODE",(function(){return I})),n.d(r,"SET_OPTIONS",(function(){return x}));var i=n(0),o=n.n(i),a=n(23),c=n.n(a),u=n(25),l=n(26),s=n(6),p=n.n(s),d=n(15),f=n(13),m=n(11),h=n(27),g=n(3),v=n(4),b=n(9),y=n(8),E=n(16),O=n(10),S=n(51);function C(e){var t=e.backgroundColor;return o.a.createElement("div",{className:"verticallyCenter horizontallyCenter fillHeight",style:{backgroundColor:t}},o.a.createElement(S.BeatLoader,{color:"#fff",loading:!0,size:25}))}var k=n(2),j=function(e){function t(e){var r;Object(g.a)(this,t),(r=Object(b.a)(this,Object(y.a)(t).call(this,e))).editor=void 0,r.outerContainerRef=o.a.createRef(),r.deltaDecorations=[],r.lineAndColumnComputer=new k.c(""),r.state={position:0,lineNumber:1,column:1,editorComponent:void 0},r.editorDidMount=r.editorDidMount.bind(Object(E.a)(r));var i=Promise.all([n.e(0),n.e(7)]).then(n.t.bind(null,355,7));return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,413)).then((function(e){e.languages.typescript.typescriptDefaults.setCompilerOptions({target:e.languages.typescript.ScriptTarget.ESNext}),e.languages.typescript.typescriptDefaults.setDiagnosticsOptions({noSemanticValidation:!0,noSyntaxValidation:!0}),i.then((function(e){r.setState({editorComponent:e.default})})).catch((function(e){console.log(e),r.setState({editorComponent:!1})}))})).catch((function(e){console.log(e),r.setState({editorComponent:!1})})),r}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return this.updateHighlight(),o.a.createElement("div",{id:this.props.id,ref:this.outerContainerRef,className:function(e){var t=["codeEditor"];e&&t.push("hasInfo");return t.join(" ")}(this.props.showInfo)},o.a.createElement("div",{className:"editorContainer"},this.getEditor()),this.props.showInfo&&this.getInfo())}},{key:"getInfo",value:function(){return o.a.createElement("div",{className:"editorInfo"},"Pos ",this.state.position,", Ln ",this.state.lineNumber,", Col ",this.state.column)}},{key:"updateHighlight",value:function(){if(null!=this.editor){this.lineAndColumnComputer.text!==this.props.text&&(this.lineAndColumnComputer=new k.c(this.props.text));var e=this.props.highlight,t=this.lineAndColumnComputer,n=function(){if(null==e)return;var n=t.getNumberAndColumnFromPos(e.start),r=t.getNumberAndColumnFromPos(e.end);return{startLineNumber:n.lineNumber,startColumn:n.column,endLineNumber:r.lineNumber,endColumn:r.column}}();this.deltaDecorations=this.editor.deltaDecorations(this.deltaDecorations,null==n?[]:[{range:n,options:{className:"editorRangeHighlight"}}])}}},{key:"getEditor",value:function(){var e=this;return null==this.state.editorComponent?o.a.createElement(C,{backgroundColor:"#1e1e1e"}):!1===this.state.editorComponent?o.a.createElement("div",{className:"errorMessage"},"Error loading code editor. Please refresh the page to try again."):o.a.createElement(this.state.editorComponent,{width:"100%",height:"100%",value:this.props.text,theme:"vs-dark",language:"typescript",onChange:function(t){return e.props.onChange&&e.props.onChange(t)},editorDidMount:this.editorDidMount,options:{automaticLayout:!1,renderWhitespace:this.props.renderWhiteSpace?"all":"none",minimap:{enabled:!1},readOnly:this.props.readOnly,quickSuggestions:!1,wordBasedSuggestions:!1,occurrencesHighlight:!1,selectionHighlight:!1,codeLens:!1,suggestOnTriggerCharacters:!1}})}},{key:"editorDidMount",value:function(e,t){var n=this;this.editor=e,e.onDidChangeCursorPosition((function(t){var r=e.getModel();null!=r&&n.setState({position:r.getOffsetAt(t.position),lineNumber:t.position.lineNumber,column:t.position.column})})),e.onMouseDown((function(t){if(null!=t.target&&null!=t.target.range&&null!=n.props.onClick){var r=e.getPosition();if(null!=r){var i=n.lineAndColumnComputer.getPosFromLineAndColumn(r.lineNumber,r.column);n.props.onClick([i,i])}}}));var r=0,i=0;setInterval((function(){var t=n.outerContainerRef.current;if(null!=t){var o=t.offsetWidth,a=t.offsetHeight;r===a&&i===o||(e.layout(),r=a,i=o)}}),500),this.updateHighlight(),this.props.editorDidMount&&this.props.editorDidMount(e,t)}}]),t}(o.a.Component),N=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(b.a)(this,Object(y.a)(t).call(this,e))).lastResetHash=void 0,n.state={hasError:!1},n}return Object(O.a)(t,e),Object(v.a)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0,error:e,errorInfo:t}),console.error(e),null!=this.props.getResetHash&&(this.lastResetHash=this.props.getResetHash())}},{key:"render",value:function(){return this.getHasError()?o.a.createElement("div",null,o.a.createElement("h2",null,"Something went wrong"),o.a.createElement("div",{style:{whiteSpace:"pre-wrap"}},o.a.createElement("div",null,this.state.error&&this.state.error.toString()),o.a.createElement("div",null,this.state.errorInfo.componentStack))):this.props.children}},{key:"getHasError",value:function(){return!!this.state.hasError&&(!this.hasHashChanged()||(this.lastResetHash=void 0,this.setState({hasError:!1,error:void 0}),!1))}},{key:"hasHashChanged",value:function(){return null!=this.props.getResetHash&&this.props.getResetHash()!==this.lastResetHash}}]),t}(o.a.Component),w=n(12),T="SET_CODE",F="SET_API_LOADING_STATE",P="REFRESH_SOURCEFILE",I="SET_SELECTED_NODE",x="SET_OPTIONS",D={options:{id:"options",buttonId:"optionsButton",compilerVersionSelectionId:"compilerVersionSelection",treeModeId:"treeMode",bindingEnabledId:"bindingEnabled",showFactoryCodeId:"showFactoryCode",showInternalsId:"showInternals"},mainCodeEditor:{id:"codeEditor"},factoryCodeEditor:{id:"factoryCodeEditor"},treeViewer:{id:"treeViewer",selectedNodeClass:"selected"},properties:{node:{id:"node"},type:{id:"type"},symbol:{id:"symbol"},signature:{id:"signature"}}},A={sourceFileRefreshDelay:150};function L(e){return o.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},e.text)}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var R=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(b.a)(this,Object(y.a)(t).call(this,e))).state={showOptionsMenu:!1},n}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{id:D.options.id},o.a.createElement("div",{id:D.options.buttonId,onClick:function(){return e.setState({showOptionsMenu:!e.state.showOptionsMenu})}},"Options"),o.a.createElement("div",{className:"menuLine",hidden:!this.state.showOptionsMenu}),o.a.createElement("div",{className:"menu",hidden:!this.state.showOptionsMenu},this.getCompilerVersions(),this.getTreeMode(),this.getScriptKind(),this.getScriptTarget(),this.getBindingEnabled(),this.getShowInternals(),o.a.createElement("div",{className:"bottomLinks"},o.a.createElement(L,{text:"About",url:"https://github.com/dsherret/ts-ast-viewer/tree/master/docs/about.md"}),o.a.createElement("span",null,"\xa0|\xa0"),o.a.createElement(L,{text:"View on GitHub",url:"https://github.com/dsherret/ts-ast-viewer"}))))}},{key:"getCompilerVersions",value:function(){var e=this,t=o.a.createElement("select",{id:D.options.compilerVersionSelectionId,value:this.props.options.compilerPackageName,onChange:function(t){return e.onChange({compilerPackageName:t.target.value})}},m.compilerVersionCollection.map((function(e){return o.a.createElement("option",{value:e.packageName,key:e.packageName},e.version)})));return o.a.createElement(_,{name:"Version",value:t})}},{key:"getTreeMode",value:function(){var e=this,t=o.a.createElement("select",{id:D.options.treeModeId,value:this.props.options.treeMode,onChange:function(t){return e.onChange({treeMode:parseInt(t.target.value,10)})}},o.a.createElement("option",{value:w.b.getChildrenWithComments},"node.getChildrenWithComments() - ts-morph (experimental)"));return o.a.createElement(_,{name:"Tree mode",value:t})}},{key:"getScriptKind",value:function(){var e=this,t=this.props.api;if(null!=t)return this.getEnumOption("Script kind","ts.ScriptKind",t.ScriptKind,this.props.options.scriptKind,(function(t){return e.onChange({scriptKind:t})}))}},{key:"getScriptTarget",value:function(){var e=this,t=this.props.api;if(null!=t)return this.getEnumOption("Script target","ts.ScriptTarget",t.ScriptTarget,this.props.options.scriptTarget,(function(t){return e.onChange({scriptTarget:t})}))}},{key:"getBindingEnabled",value:function(){var e=this,t=o.a.createElement("div",null,o.a.createElement("input",{id:D.options.bindingEnabledId,type:"checkbox",checked:this.props.options.bindingEnabled,onChange:function(t){return e.onChange({bindingEnabled:!!t.target.checked})}}));return o.a.createElement(_,{name:"Binding",value:t})}},{key:"getShowInternals",value:function(){var e=this,t=o.a.createElement("div",null,o.a.createElement("input",{id:D.options.showInternalsId,type:"checkbox",checked:this.props.options.showInternals,onChange:function(t){return e.onChange({showInternals:!!t.target.checked})}}));return o.a.createElement(_,{name:"Show internals",value:t})}},{key:"getEnumOption",value:function(e,t,n,r,i){var a=o.a.createElement("select",{value:r,onChange:function(e){return i(parseInt(e.target.value,10))}},k.b.getNamesForValues(n).map((function(e){return n=e.value,r=e.names,o.a.createElement("option",{value:n,key:n},t,".",r.join(" / "));var n,r})));return o.a.createElement(_,{name:e,value:a})}},{key:"onChange",value:function(e){this.props.onChange(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(n,!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))}}]),t}(o.a.Component),_=function(e){function t(){return Object(g.a)(this,t),Object(b.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"option"},o.a.createElement("div",{className:"optionName"},this.props.name,":"),o.a.createElement("div",{className:"optionValue"},this.props.value))}}]),t}(o.a.Component),H=n(53),K=n.n(H),V=n(21),W=n.n(V),U=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(b.a)(this,Object(y.a)(t).call(this,e))).state={collapsed:e.defaultCollapsed},n.toggleState=n.toggleState.bind(Object(E.a)(n)),n}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return this.state.collapsed?o.a.createElement(W.a,{nodeLabel:this.props.nodeLabel,collapsed:!0,onClick:this.toggleState}):o.a.createElement(W.a,{nodeLabel:this.props.nodeLabel,collapsed:!1,onClick:this.toggleState},this.props.getChildren())}},{key:"toggleState",value:function(){this.setState({collapsed:!this.state.collapsed})}}]),t}(i.Component),B=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(b.a)(this,Object(y.a)(t).call(this,e))).state={isHovering:!1},n.onMouseHoverChanged=n.onMouseHoverChanged.bind(Object(E.a)(n)),n}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"toolTippedText",onMouseEnter:this.onMouseHoverChanged,onMouseLeave:this.onMouseHoverChanged},o.a.createElement("div",{className:"titleText"},this.props.text),this.state.isHovering&&this.getToolTip())}},{key:"onMouseHoverChanged",value:function(){this.setState({isHovering:!this.state.isHovering})}},{key:"getToolTip",value:function(){return o.a.createElement("div",{className:"tooltipText"},this.props.children)}}]),t}(o.a.Component),z=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(b.a)(this,Object(y.a)(t).call(this,e))).state={publicApiInfo:void 0,lastCompilerPackageName:void 0},n}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){this.updatePublicApiInfo();var e=this.props,t=e.selectedNode,n=e.sourceFile,r=e.bindingEnabled,i=e.bindingTools,a={api:this.props.compiler.api,publicApiInfo:this.state.publicApiInfo,showInternals:this.props.showInternals,sourceFile:n};return null==this.state.publicApiInfo?o.a.createElement(C,{backgroundColor:"#1e1e1e"}):o.a.createElement("div",{className:"propertiesViewer"},o.a.createElement("div",{className:"container"},o.a.createElement("h2",null,"Node"),o.a.createElement("div",{id:D.properties.node.id},function(e,t){return o.a.createElement(U,{nodeLabel:Object(k.h)(e.api,t),defaultCollapsed:!1,getChildren:function(){var i=e.sourceFile;return o.a.createElement(o.a.Fragment,null,X(e,t),n("getChildCount()",t.getChildCount(i)),n("getFullStart()",t.getFullStart()),n("getStart()",t.getStart(i)),n("getStart(sourceFile, true)",t.getStart(i,!0)),n("getFullWidth()",t.getFullWidth()),n("getWidth()",t.getWidth(i)),n("getLeadingTriviaWidth()",t.getLeadingTriviaWidth(i)),n("getFullText()",t.getFullText(i)),n("getText()",i.text.substring(t.getStart(e.sourceFile),t.getEnd())),r("ts.getLeadingCommentRanges(fileFullText, ".concat(t.getFullStart(),")"),e.api.getLeadingCommentRanges(e.sourceFile.text,t.getFullStart())),r("ts.getTrailingCommentRanges(fileFullText, ".concat(t.end,")"),e.api.getTrailingCommentRanges(e.sourceFile.text,t.end)))}});function n(e,t){return $(e,"string"===typeof t?t:JSON.stringify(t))}function r(t,n){return null==n?$(t,"undefined"):q(e,t,n)}}(a,t)),r&&function(e,t,n){return o.a.createElement(o.a.Fragment,null,o.a.createElement("h2",null,"Type"),o.a.createElement("div",{id:D.properties.type.id},function(e,t,n){if(t.kind===e.api.SyntaxKind.SourceFile)return o.a.createElement(o.a.Fragment,null,"[None]");var r=J((function(){return n.getTypeAtLocation(t)}));return null==r?o.a.createElement(o.a.Fragment,null,"[None]"):"string"===typeof r?o.a.createElement(o.a.Fragment,null,"[Error getting type: ",r,"]"):G(e,r,function(){try{return n.typeToString(r,t)}catch(e){return"[Problem getting type text: ".concat(e,"]")}}()||"Type")}(e,t,n)),o.a.createElement("h2",null,"Symbol"),o.a.createElement("div",{id:D.properties.symbol.id},function(e,t,n){var r=J((function(){return t.symbol||n.getSymbolAtLocation(t)}));return null==r?o.a.createElement(o.a.Fragment,null,"[None]"):"string"===typeof r?o.a.createElement(o.a.Fragment,null,"[Error getting symbol: ",r,"]"):G(e,r,function(){try{return r.getName()}catch(e){return"[Problem getting symbol name: ".concat(e,"]")}}()||"Symbol")}(e,t,n)),o.a.createElement("h2",null,"Signature"),o.a.createElement("div",{id:D.properties.signature.id},function(e,t,n){var r=J((function(){return n.getSignatureFromDeclaration(t)}));return null==r||"string"===typeof r?o.a.createElement(o.a.Fragment,null,"[None]"):G(e,r,"Signature")}(e,t,n)))}(a,t,i().typeChecker)))}},{key:"updatePublicApiInfo",value:function(){var e=this;this.state.lastCompilerPackageName!==this.props.compiler.packageName&&setTimeout((function(){e.setState({lastCompilerPackageName:e.props.compiler.packageName}),Object(m.getPublicApiInfo)(e.props.compiler.packageName).then((function(t){e.setState({publicApiInfo:t})})).catch((function(t){console.error(t),e.setState({publicApiInfo:!1})}))}),0)}}]),t}(o.a.Component);function J(e){try{return e()}catch(t){return JSON.stringify(t)}}function G(e,t,n){return o.a.createElement(U,{nodeLabel:n,defaultCollapsed:!1,getChildren:function(){return X(e,t)}})}function X(e,t){var n=Z(e,t);return o.a.createElement(o.a.Fragment,null,n.map((function(n){var r,i,a,c=(r=n.key,i=n.value,a=t,null===i?$(r,"null"):void 0===i?$(r,"undefined"):i instanceof Array?q(e,r,i):re(i)?function(e,t,n){return o.a.createElement("div",{className:"object",key:t,"data-name":t},o.a.createElement("div",{className:"key"},t,":"),o.a.createElement("div",{className:"value"},Q(e,n)))}(e,r,i):function(e){return"function"===typeof e.keys&&"function"===typeof e.values}(i)?function(e,t,n){var r=k.a.from(n.entries());return 0===r.length?$(t,"{}"):o.a.createElement("div",{className:"array",key:t,"data-name":t},o.a.createElement("div",{className:"key"},t,":","{"),o.a.createElement("div",{className:"value"},r.map((function(t,n){return Q(e,t[1],t[0],n)}))),o.a.createElement("div",{className:"suffix"},"}"))}(e,r,i):"object"===typeof i?function(e,t,n){return 0===Z(e,n).length?$(t,"{}"):o.a.createElement("div",{className:"object",key:t,"data-name":t},o.a.createElement("div",{className:"key"},t,":"),o.a.createElement("div",{className:"value"},Q(e,n)))}(e,r,i):function(e,t,n,r){return o.a.createElement("div",{className:"text",key:t,"data-name":t},o.a.createElement("div",{className:"key"},t,":"),o.a.createElement("div",{className:"value"},function(){if(re(r))switch(t){case"kind":return"".concat(n," (SyntaxKind.").concat(Object(k.h)(e.api,n),")");case"flags":return ce(e.api.NodeFlags,n)}return ie(r)&&"objectFlags"===t?ce(e.api.ObjectFlags,n):ie(r)&&"flags"===t?ce(e.api.TypeFlags,n):oe(r)&&"flags"===t?ce(e.api.SymbolFlags,n):K.a.stringify(n)}()))}(e,r,i,a));return"internal"===n.permission?o.a.createElement("div",{className:"internal",key:n.key,"data-name":n.key},c):c})))}function q(e,t,n){return 0===n.length?$(t,"[]"):o.a.createElement("div",{className:"array",key:t,"data-name":t},o.a.createElement("div",{className:"key"},t,": ["),o.a.createElement("div",{className:"value"},n.map((function(t,n){return Q(e,t,void 0,n)}))),o.a.createElement("div",{className:"suffix"},"]"))}function $(e,t){return o.a.createElement("div",{className:"text",key:e,"data-name":e},null==e?void 0:o.a.createElement("div",{className:"key"},e,":"),o.a.createElement("div",{className:"value"},t))}function Q(e,t,n,r){var i=Y(e,t);return n=function(){if(null==n)return i;if(null!=i)return"".concat(n,": ").concat(Y(e,t));return n}(),"string"===typeof t?$(n,'"'.concat(t,'"')):"number"===typeof t?$(n,t.toString()):"boolean"===typeof t?$(n,t.toString()):o.a.createElement(U,{nodeLabel:n,key:r,defaultCollapsed:!0,getChildren:function(){return X(e,t)}})}function Y(e,t){if(null!=t){if(re(t))return r(Object(k.h)(e.api,t));if(ae(t))return r("Signature");if(ie(t))return r("Type");if(oe(t))return r("Symbol");var n=typeof t;if("string"!==n&&"number"!==n&&"boolean"!==n)return r("Object")}function r(e){var n=function(){try{return"function"===typeof t.getName?t.getName():re(t)&&null!=t.name?t.name.getText():void 0}catch(e){return}}();return null==n?e:"".concat(e," (").concat(n,")")}}function Z(e,t){return null==t?[]:Object.keys(t).map((function(n){return{key:n,permission:ne(e,t,n),value:t[n]}})).filter((function(t){return!1!==t.permission&&(e.showInternals||"internal"!==t.permission)}))}var ee=new Set(["parent","_children","symbol"]),te=new Set(["checker","symbol"]);function ne(e,t,n){var r=e.publicApiInfo;if(re(t)){if(ee.has(n))return!1;if(!r)return!0;var i=Object(k.h)(e.api,t);return o(r.nodePropertiesBySyntaxKind.get(i))}return ie(t)?!te.has(n)&&o(r&&r.typeProperties):ae(t)?o(r&&r.signatureProperties):!oe(t)||o(r&&r.symbolProperties);function o(e){return!e||(!!e.has(n)||"internal")}}function re(e){return"number"===typeof e.kind}function ie(e){return null!=e.getBaseTypes}function oe(e){return null!=e.getDeclarations}function ae(e){return null!=e.declaration&&re(e.declaration)}function ce(e,t){var n=Object(k.g)(e,t);return 0===n.length?o.a.createElement(o.a.Fragment,null,t):o.a.createElement(B,{text:t.toString()},o.a.createElement("ul",null,n.map((function(e,t){return o.a.createElement("li",{key:t},e)}))))}var ue=function(e){function t(){return Object(g.a)(this,t),Object(b.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props,t=e.sourceFile,n=e.selectedNode,r=e.onSelectNode,i=e.mode,a=e.api,c=0;return o.a.createElement("div",{id:D.treeViewer.id},function e(t,i){var u=i(t);var l="nodeText"+(t===n?" "+D.treeViewer.selectedNodeClass:"");var s=Object(k.h)(a,t);var p=o.a.createElement("div",{onClick:function(){return r(t)},className:l},s);return 0===u.length?o.a.createElement("div",{key:c++,className:"endNode","data-name":s},p):o.a.createElement("div",{"data-name":s,key:c++},o.a.createElement(W.a,{nodeLabel:p},u.map((function(t){return e(t,i)}))))}(this.props.sourceFile,Object(m.getChildrenFunction)(i,t)))}}]),t}(o.a.Component);n(124);function le(e){return{type:r.SET_API_LOADING_STATE,loadingState:e}}function se(e,t){return{type:r.REFRESH_SOURCEFILE,compilerPackageName:e,api:t}}function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var de=Object(l.b)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(n,!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)}),(function(e){var t=Object(k.f)((function(e){return n(e)}),A.sourceFileRefreshDelay);return n("typescript"),{onCodeChange:function(n,i){e(function(e){return{type:r.SET_CODE,code:e}}(i)),t(n)},onNodeChange:function(t){return e(function(e){return{type:r.SET_SELECTED_NODE,node:e}}(t))},onOptionsChange:function(n,i){var o=void 0!==i.scriptKind||void 0!==i.scriptTarget||void 0!==i.compilerPackageName||void 0!==i.bindingEnabled;e(function(e){return{type:r.SET_OPTIONS,options:e}}(i)),o&&t(n)}};function n(e){return i.apply(this,arguments)}function i(){return(i=Object(d.a)(p.a.mark((function t(n){var r,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=!Object(m.hasLoadedCompilerApi)(n),t.prev=1,r&&e(le(w.a.Loading)),t.next=5,Object(m.getCompilerApi)(n);case 5:i=t.sent,e(se(n,i)),r&&e(le(w.a.Loaded)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.error(t.t0),r&&e(le(w.a.Error));case 14:case"end":return t.stop()}}),t,null,[[1,10]])})))).apply(this,arguments)}}))((function(e){var t=e.compiler;return o.a.createElement("div",{className:"App"},o.a.createElement(h.a,{split:"horizontal",defaultSize:50,allowResize:!1},o.a.createElement("header",{className:"AppHeader clearfix"},o.a.createElement("h2",{id:"title"},"TypeScript AST Viewer"),o.a.createElement(R,{api:null==t?void 0:t.api,options:e.options,onChange:function(t){return e.onOptionsChange(t.compilerPackageName||e.options.compilerPackageName,t)}})),o.a.createElement(h.a,{split:"vertical",minSize:50,defaultSize:"33%"},o.a.createElement(j,{id:D.mainCodeEditor.id,onChange:function(t){return e.onCodeChange(e.options.compilerPackageName,t)},onClick:function(t){if(null!=e.compiler){var n=Object(m.getDescendantAtRange)(e.options.treeMode,e.compiler.sourceFile,t,e.compiler.api);e.onNodeChange(n)}},text:e.code,highlight:n(),showInfo:!0,renderWhiteSpace:!0,editorDidMount:r}),function(){if(null==t||e.apiLoadingState===w.a.Loading)return o.a.createElement(C,null);if(e.apiLoadingState===w.a.Error)return o.a.createElement("div",{className:"errorMessage"},"Error loading compiler API. Please refresh the page to try again.");return o.a.createElement(N,null,o.a.createElement(h.a,{split:"vertical",minSize:50,defaultSize:"50%"},o.a.createElement(ue,{api:t.api,selectedNode:t.selectedNode,sourceFile:t.sourceFile,onSelectNode:function(t){return e.onNodeChange(t)},mode:e.options.treeMode}),o.a.createElement(z,{compiler:t,selectedNode:t.selectedNode,sourceFile:t.sourceFile,bindingTools:t.bindingTools,bindingEnabled:e.options.bindingEnabled,showInternals:e.options.showInternals})))}())));function n(){if(null!=e.compiler){var t=e.compiler,n=t.selectedNode,r=t.sourceFile;return n===r?void 0:{start:n.getStart(r,!0),end:n.end}}}function r(e){setTimeout((function(){return e.focus()}),100),window.setMonacoEditorText=function(t){var n=e.getModel();null!=n&&e.executeEdits("my-source",[{range:n.getFullModelRange(),text:t}])}}}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(125),n(126),n(127);function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(n,!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var he=new k.d;var ge=Object(u.b)((function(e,t){if(null==e)throw new Error("State was undefined. Ensure it never is.");switch(t.type){case r.SET_SELECTED_NODE:return null==e.compiler?e:me({},e,{compiler:me({},e.compiler,{selectedNode:t.node})});case r.SET_API_LOADING_STATE:return me({},e,{apiLoadingState:t.loadingState});case r.REFRESH_SOURCEFILE:var n=me({},e,{options:Object(m.convertOptions)(null==e.compiler?void 0:e.compiler.api,t.api,e.options)});return function(e,t,n,r,i){var o=Object(m.createSourceFile)(t,r,i.scriptTarget,i.scriptKind),a=o.sourceFile,c=o.bindingTools;n.compiler={packageName:e,api:t,sourceFile:a,bindingTools:c,selectedNode:a}}(t.compilerPackageName,t.api,n,e.code,e.options),he.updateUrl(e.code),n;case r.SET_CODE:return me({},e,{code:t.code});case r.SET_OPTIONS:return me({},e,{options:me({},e.options,{},t.options)});default:return e}}),{apiLoadingState:w.a.Loading,code:(new k.d).getUrlCode(),options:{compilerPackageName:"typescript",treeMode:w.b.getChildrenWithComments,scriptTarget:6,scriptKind:4,bindingEnabled:!0,showInternals:!1},compiler:void 0});c.a.render(o.a.createElement(l.a,{store:ge},o.a.createElement(de,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})),console.log("[ts-ast-viewer]: Inspect the ts, sourceFile, node, symbol, type, signature, program, and typeChecker global variables here in the console."),ge.subscribe((function(){var e=ge.getState();if(null!=e.compiler&&null!=e.compiler.selectedNode){var t=window,n=e.compiler.selectedNode;if(t.ts=e.compiler.api,t.node=n,t.selectedNode=n,t.sourceFile=e.compiler.sourceFile,e.options.bindingEnabled){var r=e.compiler.bindingTools();t.typeChecker=r.typeChecker,t.program=r.program,t.type=i((function(){return r.typeChecker.getTypeAtLocation(n)})),t.symbol=i((function(){return n.symbol||r.typeChecker.getSymbolAtLocation(n)})),t.signature=i((function(){return r.typeChecker.getSignatureFromDeclaration(n)}))}else t.typeChecker=void 0,t.program=void 0,t.type=void 0,t.symbol=void 0,t.signature=void 0}function i(e){try{return e()}catch(t){return}}}))},19:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return d}));var r=n(6),i=n.n(r),o=n(15),a=n(2),c=[{version:"3.7.2",packageName:"typescript"}];function u(e){return l.apply(this,arguments)}function l(){return(l=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="typescript"===e.t0?3:6;break;case 3:return e.next=5,Promise.resolve().then(n.t.bind(null,44,7));case 5:return e.abrupt("return",e.sent);case 6:return e.abrupt("return",Object(a.e)(t,"Not implemented version: ".concat(t)));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(e){return p.apply(this,arguments)}function p(){return(p=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="typescript"===e.t0?3:6;break;case 3:return e.next=5,n.e(9).then(n.bind(null,131));case 5:return e.abrupt("return",e.sent);case 6:return e.abrupt("return",Object(a.e)(t,"Not implemented version: ".concat(t)));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return(f=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="typescript"===e.t0?3:6;break;case 3:return e.next=5,n.e(10).then(n.bind(null,130));case 5:return e.abrupt("return",e.sent);case 6:return e.abrupt("return",Object(a.e)(t,"Not implemented version: ".concat(t)));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},2:function(e,t,n){"use strict";function r(e,t){throw new Error(t)}var i=n(3),o=n(4),a=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"from",value:function(e){for(var t=[];;){var n=e.next();if(n.done)return t;t.push(n.value)}}},{key:"binarySearch",value:function(e,t){for(var n=e.length-1,r=0;r<=n;){var i=Math.floor((n+r)/2),o=t(e[i]);if(0===o)return i;o<0?n=i-1:r=i+1}return-1}}]),e}();n(6);function c(e,t){var n;return function(r){null!=n&&clearTimeout(n),n=setTimeout((function(){n=void 0,e(r)}),t)}}var u=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getNames",value:function(e){return Object.keys(e).filter((function(t){return"number"===typeof e[t]}))}},{key:"getValues",value:function(e){return Object.keys(e).map((function(t){return e[t]})).filter((function(e){return"number"===typeof e}))}},{key:"getNamesForValues",value:function(e){var t={},n=!0,r=!1,i=void 0;try{for(var o,a=this.getNames(e)[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var c=o.value,u=e[c];null==t[u]&&(t[u]=[]),t[u].push(c)}}catch(l){r=!0,i=l}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return Object.keys(t).map((function(e){return{value:parseInt(e,10),names:t[e]}}))}}]),e}();function l(e,t){var n=Object.keys(e).map((function(t){return e[t]})).filter((function(e){return"number"===typeof e})).filter((function(e){return 0!==(e&t)}));return n.filter((function(e,t){return n.indexOf(e)===t})).map((function(t){return e[t]}))}var s=n(20);function p(e,t){return s.CommentNodeParser.isCommentList(t)?"CommentList"+s.CommentListKind[t.commentListKind]:function(e){null==d[e.tsAstViewer.packageName]&&(d[e.tsAstViewer.packageName]=function(e){var t={},n=!0,r=!1,i=void 0;try{for(var o,a=Object.keys(e.SyntaxKind).filter((function(e){return isNaN(parseInt(e,10))}))[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var c=o.value,u=e.SyntaxKind[c];null==t[u]&&(t[u]=c)}}catch(l){r=!0,i=l}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return t}(e));return d[e.tsAstViewer.packageName]}(e)[t.kind]}var d={};var f=function(){function e(t){Object(i.a)(this,e),this.text=t,this.lineInfos=void 0,this.lineInfos=function(e){for(var t=[],n=0,r=0;r<e.length;r++)"\n"===e[r]&&i(r);return i(e.length),t;function i(e){t.push({pos:n,length:e-n,number:t.length+1}),n=e+1}}(t)}return Object(o.a)(e,[{key:"getNumberAndColumnFromPos",value:function(e){if(e<0)return{lineNumber:1,column:1};var t=a.binarySearch(this.lineInfos,(function(t){return e<t.pos?-1:e>=t.pos&&e<t.pos+t.length+1?0:1})),n=t>=0?this.lineInfos[t]:this.lineInfos[this.lineInfos.length-1];return null==n?{lineNumber:1,column:1}:{lineNumber:n.number,column:Math.min(e-n.pos+1,n.length+1)}}},{key:"getPosFromLineAndColumn",value:function(e,t){if(0===this.lineInfos.length||e<1)return 0;var n=this.lineInfos[e-1];if(null==n){var r=this.lineInfos[this.lineInfos.length-1];return r.pos+r.length}return n.pos+Math.min(n.length,t-1)}}]),e}(),m=n(35),h=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,[{key:"getUrlCode",value:function(){if(document.location.hash&&document.location.hash.startsWith("#code"))try{var e=document.location.hash.replace("#code/","").trim();return Object(m.decompressFromEncodedURIComponent)(e)||""}catch(t){console.error(t)}return""}},{key:"updateUrl",value:function(e){function t(e){window.history.replaceState(void 0,"","#".concat(e))}0===e.length?t(""):t("code/".concat(Object(m.compressToEncodedURIComponent)(e)))}}]),e}();n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return h}))},24:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(20),i=n(12),o=n(2);function a(e,t){switch(e){case i.b.getChildrenWithComments:return function(e){return r.CommentNodeParser.getOrParseTokens(e,t)};default:return Object(o.e)(e,"Unhandled mode: ".concat(e))}}},40:function(e,t){},46:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(13);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e,t,n){if(null==e||e===t)return n;var o=t.ScriptTarget[e.ScriptTarget[n.scriptTarget]],a=t.ScriptKind[e.ScriptKind[n.scriptKind]];return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(n,!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{scriptTarget:null==o?t.ScriptTarget.Latest:o,scriptKind:null==a?t.ScriptKind.TSX:a})}},47:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(54),i=n(13),o=n(2);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t,n,c){var u,l="/ts-ast-viewer".concat(function(e,t){switch(t){case e.ScriptKind.TS:return".ts";case e.ScriptKind.TSX:return".tsx";case e.ScriptKind.JS:return".js";case e.ScriptKind.JSX:return".jsx";case e.ScriptKind.JSON:return".json";case e.ScriptKind.External:case e.ScriptKind.Deferred:case e.ScriptKind.Unknown:return"";default:return Object(o.e)(t,"Not implemented ScriptKind: ".concat(e.ScriptKind[t]))}}(e,c)),s=e.createSourceFile(l,t,n,!1,c);return{sourceFile:s,bindingTools:function(){null==u&&(u=function(){var t={strict:!0,target:n,allowJs:!0,module:e.ModuleKind.ES2015},o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(n,!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(Object(i.a)({},l,s),e.tsAstViewer.cachedSourceFiles),c={getSourceFile:function(e,t,n){return o[e]},getDefaultLibFileName:function(t){return"/"+e.getDefaultLibFileName(t)},writeFile:function(){},getCurrentDirectory:function(){return"/"},getDirectories:function(e){return[]},fileExists:function(e){return null!=o[e]},readFile:function(e){return null!=o[e]?o[e].getFullText():void 0},getCanonicalFileName:function(e){return e},useCaseSensitiveFileNames:function(){return!0},getNewLine:function(){return"\n"},getEnvironmentVariable:function(){return""}},u=e.createProgram(Object(r.a)(Object.keys(o)),t,c);return{typeChecker:u.getTypeChecker(),program:u}}());return u}}}},48:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return s}));var r=n(6),i=n.n(r),o=n(15),a=n(19),c={},u={};function l(e){return null==c[e]&&(c[e]=function(e){return p.apply(this,arguments)}(e),c[e].catch((function(){return delete c[e]}))),c[e]}function s(e){return!0===u[e]}function p(){return(p=Object(o.a)(i.a.mark((function e(t){var n,r,o,c,l,s,p,d,f,m,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h=function(){return Object.keys(c).map((function(e){return c[e]})).map((function(e){return o.createSourceFile(e.fileName,e.text,o.ScriptTarget.Latest,!1,o.ScriptKind.TS)}))},n=Object(a.d)(t),r=Object(a.c)(t),e.next=5,r;case 5:return(o=e.sent).tsAstViewer={packageName:t,cachedSourceFiles:{}},e.next=9,n;case 9:for(c=e.sent,l=!0,s=!1,p=void 0,e.prev=13,d=h()[Symbol.iterator]();!(l=(f=d.next()).done);l=!0)m=f.value,o.tsAstViewer.cachedSourceFiles[m.fileName]=m;e.next=21;break;case 17:e.prev=17,e.t0=e.catch(13),s=!0,p=e.t0;case 21:e.prev=21,e.prev=22,l||null==d.return||d.return();case 24:if(e.prev=24,!s){e.next=27;break}throw p;case 27:return e.finish(24);case 28:return e.finish(21);case 29:return u[t]=!0,e.abrupt("return",o);case 31:case"end":return e.stop()}}),e,null,[[13,17,21,29],[22,,24,28]])})))).apply(this,arguments)}},49:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(24);function i(e,t,n,i){var o=Object(r.a)(e,t),a=i.SyntaxKind,c={node:t,start:t.getStart(t)};return function e(r){var i=o(r);var u=!0;var l=!1;var s=void 0;try{for(var p,d=i[Symbol.iterator]();!(u=(p=d.next()).done);u=!0){var f=p.value,m=f.kind===a.SyntaxList;if(m||!(f.end<n[0])){var h=f.getStart(t,!0);if(!m&&((b=h)>=n[0]&&b>n[1]))return;var g=f.kind===a.EndOfFileToken,v=c.start===h&&n[0]===h;m||g||v||(c={node:f,start:h}),e(f)}}}catch(y){l=!0,s=y}finally{try{u||null==d.return||d.return()}finally{if(l)throw s}}var b}(t),c.node}},55:function(e,t,n){e.exports=n(128)},75:function(e,t){},76:function(e,t){},77:function(e,t){},78:function(e,t){},79:function(e,t){},80:function(e,t){},81:function(e,t){},82:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=82},83:function(e,t){},90:function(e,t){},99:function(e,t){}},[[55,3,4]]]);